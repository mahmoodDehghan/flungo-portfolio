version: "3.9"

services:
  db:
    image: postgres:14
    environment: 
      - POSTGRES_DB=flungportfolio
      - POSTGRES_USER=mahmood
      - POSTGRES_PASSWORD=1234MDM
    volumes:
      - ./data/db:/var/lib/postgresql/data
  web:
    build: .
    command: python manage.py runserver 0.0.0.0:8000
    environment: 
      - SECRET_KEY=testsecretkey
      - DEBUG=1
      - POSTGRES_DB=flungportfolio
      - POSTGRES_USER=mahmood
      - POSTGRES_PASSWORD=1234MDM
      - ENVIRONMENT=development
      - OIDC_RSA_PRIVATE_KEY=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

    volumes: 
      - .:/code
    ports: 
      - "8000:8000"
    depends_on: 
      - db   